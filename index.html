<html>
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Mon Shop</title>

</head>

<body>
<nav class="navbar navbar-dark bg-dark">
    <h1 class="text-white">Mon Shop </h1>
</nav>

<div id="app" class="d-flex p-2">
    <div class="container">
        <table class="table table-striped">
            <thead>
            <tr>
                <th scope="col">Nom</th>
                <th scope="col">Prix</th>
                <th scope="col">Quantité</th>
                <th scope="col">Total</th>
            </tr>
            </thead>
            <tbody>
            <!--v-for pour prendre tout les infos qui se trouver dans le panier-->
            <tr v-for="(paniers, index) in panier" v-bind:key="paniers.id">
                <td>{{paniers.name}}</td>
                <td>{{paniers.price}} Chf</td>
                <td>{{paniers.quantity}} Nombre(s)</td>
                <td>{{paniers.price * paniers.quantity}} Chf</td>
            </tr>
            <tr>
                <td>Total :</td>
                <td></td>
                <!--reprend le total d'articles dans le panier et le montant total du panier-->
                <td> {{totalArticles()}} Nombre(s)</td>
                <td>{{totalPrice()}} Chf</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>
                    <!--button qui permet de vider la panier avec la méthode emptycart-->
                    <button class="p-2" @click="emptyCart()">Vider le panier</button>
                </td>
                <td></td>
            </tr>
            </tbody>
        </table>
        <!--<p class="p-2">Nombre Articles Total : {{totalArticles()}}</p>-->
        <p class="p-2 alert alert-success" v-if="totalArticles() >= 5">Vous êtes un client premium</p>

    </div>

    <div class="container">
        <figure v-for="(products, index) in product" v-bind:key="products.id">
            <img class="row" v-if="products.name == type" v-bind:src="products.img" v-bind:alt="products.name">
            <div class="row" v-if="products.name == type">Description : {{products.description}}</div>
            <div class="row" v-if="products.name ==type">Prix : {{products.price}} Chf</div>
            <div class="row" v-if="products.name ==type && products.quantity >1">{{products.quantity}} en stock</div>
            <div class="row text-warning" v-if="products.name ==type && products.quantity ==1">Stock Limité</div>
            <div class="row text-danger" v-if="products.name ==type && products.quantity ==0">Rupture de Stock</div>
        </figure>
        <figure v-for="(products, index) in product" v-bind:key="products.id">

            <p v-if="index == 0" class="row">Models : </p>


            <button class="d-inline-block " v-bind:class="{'  alert alert-dark': type == products.name}"
                    @click="changeType(products.name)">{{products.name}}
            </button>


            <button v-if="index == product.length -1" class="row" @click="addProduct(type)">Ajouter au panier</button>
        </figure>
    </div>
    <script src="index.js"></script>
</div>
</body>
</html>